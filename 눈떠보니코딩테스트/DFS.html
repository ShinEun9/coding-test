<!DOCTYPE html>
<html lang="ko-KR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2진트리 깊이우선탐색</title>
</head>

<body>
    <script>
        graph = {
            100: new Set([67, 66]),
            67: new Set([100, 82, 63]),
            66: new Set([100, 73, 69]),
            82: new Set([67, 61, 79]),
            63: new Set([67]),
            73: new Set([66]),
            69: new Set([66, 65, 81]),
            61: new Set([82]),
            79: new Set([82, 87, 77]),
            65: new Set([69, 84, 99]),
            81: new Set([69]),
            87: new Set([79, 31, 78]),
            77: new Set([79]),
            84: new Set([65]),
            99: new Set([65]),
            31: new Set([87]),
            78: new Set([87])
        };

        function 깊이우선탐색최댓값(graph, start) {
            let 방문 = [];
            let stack = [start]

            while (stack) {
                let n = 0; // 다음 방문노드
                n = stack.pop();
                if (!방문.includes(n)) {
                    방문.push(n);
                    let 차집합 = new Set([...graph[n]].filter(x => !(new Set(방문).has(x))))
                    if ([...차집합].length == 0) {
                        break;
                    }
                    stack.push(Math.max(...차집합))

                    console.log(`방문: ${방문}`)
                    console.log(`stack: ${stack}`)

                    if (stack.length === 0) {
                        break;
                    }
                }
            }
            return 방문;
        }

        let answer = 깊이우선탐색최댓값(graph, 100);
        let s = ''
        for (let i = 1; i < answer.length; i++) {
            console.log(answer[i])
            s += String.fromCharCode(answer[i])
        }
    </script>
</body>

</html>