<!DOCTYPE html>
<html lang="ko-KR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프로세스 - 어려웠음</title>
</head>

<body>
    <a href="https://school.programmers.co.kr/learn/courses/30/lessons/42587">프로세스</a>
    <script>
        // function solution(priorities, location) {
        //     var answer = 0;
        //     let tmp = Array(priorities.length).fill(0).map((item, index) => item + index);

        //     let i = 0;
        //     while (i < priorities.length) {
        //         let k = "YES"

        //         for (let j = i + 1; j < priorities.length; j++) {
        //             if (priorities[i] < priorities[j]) {
        //                 k = "NO"
        //                 priorities.push(...priorities.splice(i, 1));
        //                 tmp.push(...tmp.splice(i, 1));
        //                 break;
        //             }
        //         }
        //         if (k === "YES") {
        //             i++;
        //         }
        //     }
        //     answer = tmp.indexOf(location) + 1;
        //     return answer;
        // }


        function solution(priorities, location) {
            var arr = priorities.map((priority, index) => {
                return {
                    index: index, priority: priority
                };
            });

            var queue = [];

            while (arr.length > 0) {
                var firstEle = arr.shift();
                var hasHighPriority = arr.some(ele => ele.priority > firstEle.priority);
                if (hasHighPriority) {
                    arr.push(firstEle);
                } else {
                    queue.push(firstEle);
                }
                console.log(queue.slice())
            }

            return queue.findIndex(queueEle => queueEle.index === location) + 1;
        }

        console.log(solution([2, 1, 3, 2], 2));
        console.log(solution([1, 1, 9, 1, 1, 1], 0))
        console.log(solution([4, 1, 5, 3], 0))


    </script>
</body>

</html>